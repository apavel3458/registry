(function(e){function t(t){for(var n,a,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)a=o[l],s[a]&&p.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-53a2c20c":"0eac531f","chunk-75f68d80":"34532d7d","chunk-c3f39cd2":"11d4c83e","chunk-20e33414":"29db1f32","chunk-39d69daa":"61a22820","chunk-5f6c8d00":"e1c4cd7f","chunk-7982f3a4":"f739a313"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-53a2c20c":1,"chunk-75f68d80":1,"chunk-c3f39cd2":1,"chunk-20e33414":1,"chunk-39d69daa":1,"chunk-5f6c8d00":1,"chunk-7982f3a4":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise(function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-53a2c20c":"29601074","chunk-75f68d80":"b30a02b3","chunk-c3f39cd2":"e36db137","chunk-20e33414":"122fa645","chunk-39d69daa":"56540c04","chunk-5f6c8d00":"13a317fc","chunk-7982f3a4":"4c7e20a2"}[e]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){u=p[o],l=u.getAttribute("data-href");if(l===n||l===s)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[e],d.parentNode.removeChild(d),r(i)},d.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){a[e]=0}));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,r){n=s[e]=[t,r]});t.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e),u=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");i.type=n,i.request=a,r[1](i)}s[e]=void 0}};var p=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("1356"),a=r.n(n);a.a},"07a4":function(e,t,r){"use strict";r("7514");var n=r("a026"),a=r("2f62"),s=(r("96cf"),r("3b8d")),i=r("9040"),o=r("a18c"),c={setToken:function(e,t){var r=e.commit;r("setToken",t)},setUser:function(e,t){var r=e.commit;r("setUser",t)},init:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.next=3,r("fetchRegistryList");case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setActivePatient:function(e,t){var r=e.commit;r("SET_ACTIVE_PATIENT",t)},setActiveRegistryById:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,a=t.dispatch,s=t.commit,e.t0=!n.registryList.length,!e.t0){e.next=5;break}return e.next=5,a("fetchRegistryList");case 5:if(n.activeRegistry&&n.activeRegistry.id==r){e.next=14;break}if(i=n.registryList.find(function(e){return e.id==r}),!i){e.next=13;break}return s("SET_ACTIVE_REGISTRY",i),s("SET_ACTIVE_PATIENT",null),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),setActiveRegistry:function(e,t){var r=e.commit;t&&r("SET_ACTIVE_REGISTRY",t)&&r("SET_ACTIVE_PATIENT",null)},fetchRegistryList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,i["a"].registryList();case 3:return n=e.sent,n.map(function(e){return"Medical Oncology"===e.registryName?e.disabled=!0:e}),n.map(function(e){return"Heart Failure"===e.registryName?e.disabled=!0:e}),r("SET_REGISTRY_LIST",n),r("SET_ACTIVE_REGISTRY",n[0]),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),loadPatient:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r&&""!=r?o["a"].push({name:"patient",params:{patientId:r}}):r=o["a"].currentRoute.params.patientId,!r||""==r){e.next=9;break}return e.next=4,i["a"].patient(r);case 4:n=e.sent,t.commit("SET_ACTIVE_PATIENT",n),n.registryId!=t.state.activeRegistry.id&&t.commit("SET_ACTIVE_REGISTRY",n.registry),e.next=10;break;case 9:t.commit("SET_ACTIVE_PATIENT",null);case 10:return e.abrupt("return",t.activePatient);case 11:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),registryCount:function(e,t){var r=e.commit;r("INCREMENT_REGISTRY",t)}},u={namespaced:!0,state:{message:"",type:""},mutations:{showError:function(e,t){e.type="error",e.message=t},showSuccess:function(e,t){e.type="success",e.message=t},showInfo:function(e,t){e.type="info",e.message=t},reset:function(e){e.message=""}},actions:{},getters:{}};n["a"].use(a["a"]);t["a"]=new a["a"].Store({strict:!0,modules:{messaging:u},state:{token:null,user:null,registryList:[],activeRegistry:null,activePatient:null},mutations:{setToken:function(e,t){e.token=t},setUser:function(e,t){e.user=t},login:function(e,t){e.token=t.token,e.user=t.user},logout:function(e){e.user=null,e.token=null},SET_REGISTRY_LIST:function(e,t){e.registryList=t},SET_ACTIVE_REGISTRY:function(e,t){e.activeRegistry=t},SET_ACTIVE_PATIENT:function(e,t){e.activePatient=t},INCREMENT_REGISTRY:function(e,t){var r=t.registryId,n=t.increment,a=e.registryList.find(function(e){return e.id==r});a.registrySize=a.registrySize+n}},actions:c,getters:{isAuthenticated:function(e){return!(!e.token||!e.user)},isAdmin:function(e){return!(!e.user||!e.user.usergroups)&&!!e.user.usergroups.find(function(e){return"admin"===e.groupName.toLowerCase()})},getActivePatient:function(e){return e.activePatient},getRegistryList:function(e){return e.registryList}}})},1356:function(e,t,r){},"288d":function(e,t,r){},"2b46":function(e,t,r){},"3f4a":function(e,t,r){"use strict";r("a481");var n=r("bc3a"),a=r.n(n),s=r("a078"),i=r.n(s),o=r("07a4"),c=r("a18c");t["a"]=function(){var e=a.a.create({baseURL:i.a.baseURL,headers:{Authorization:"Bearer ".concat(o["a"].state.token)}});function t(e){return c["a"].push({name:"login",params:{error:"You must log in to access this page",url:e.response.config.url}}),Promise.reject({error:"Not Authenticated"})}return e.interceptors.response.use(function(e){return e},function(e){var r=e.config.method.toUpperCase()+" /"+e.config.url.replace(e.config.baseURL,"");switch(e.response.status){case 401:return t(e);case 404:alert("Server action not found. Error Status: "+e.response.status+" | \n"+r);break;case 500:alert("The server encountered an error processing your request. Error Status: "+e.response.status+" | "+JSON.stringify(e.response.data.error));break;case 403:alert("You are not authorized to access this page.");break;default:return Promise.reject(e)}return Promise.reject(e)}),e}},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d"),r("db4d");var n=r("a026"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("page-header"),r("v-content",[r("router-view")],1)],1)},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-toolbar",{attrs:{dense:"",dark:"",color:"primary"}},[r("v-app-bar-nav-icon"),r("v-toolbar-title",{staticClass:"white--text"},[r("span",{staticClass:"home",on:{click:function(t){return e.navigateTo("root")}}},[e._v("\n      Registry\n      ")])]),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[e.isAuthenticated?r("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){return e.navigateTo("home")}}},[e._v("\n          Home\n        ")]):e._e(),e.isAuthenticated?r("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){return e.navigateTo("reports")}}},[e._v("\n          Reports\n        ")]):e._e(),e.isAdmin?r("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){return e.navigateTo("admin-users")}}},[e._v("\n          Users\n        ")]):e._e(),e.isAuthenticated?e._e():r("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){return e.navigateTo("login")}}},[e._v("\n          Login\n        ")]),e.$store.getters.isAuthenticated?e._e():r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.navigateTo("register")}}},[r("v-icon",[e._v("mdi-account-box")])],1),e.$store.getters.isAuthenticated?r("v-btn",{attrs:{text:"",dark:""}},[r("v-icon",[e._v("mdi-account-box")]),e._v("\n        "+e._s(e.$store.state.user.firstName)+" "+e._s(e.$store.state.user.lastName)+" ("+e._s(e.$store.state.user.username)+")\n      ")],1):e._e()],1),e.isAuthenticated?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{icon:""},on:{click:function(t){return e.logout()}}},n),[r("v-icon",[e._v("mdi-exit-to-app")])],1)]}}],null,!1,2965291860)},[r("span",[e._v("Logout")])]):e._e(),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{icon:""}},n),[r("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[r("v-list",[e.isAuthenticated?e._e():r("v-list-item",{on:{click:function(t){return e.$router.push({name:"login"})}}},[r("v-list-item-title",[e._v("Login")])],1),e.isAuthenticated?e._e():r("v-list-item",{on:{click:function(t){return e.$router.push({name:"register"})}}},[r("v-list-item-title",[e._v("Register")])],1),e.isAdmin?r("v-list-item",{on:{click:function(t){return e.$router.push({name:"admin-users"})}}},[r("v-list-item-title",[e._v("User Management")])],1):e._e(),e.isAuthenticated?r("v-list-item",{on:{click:function(t){return e.$router.push({name:"useroptions"})}}},[r("v-list-item-title",[e._v("Change Password")])],1):e._e(),e.isAuthenticated?r("v-list-item",{on:{click:e.logout}},[r("v-list-item-title",[e._v("Logout")])],1):e._e()],1)],1)],1)],1)},o=[],c=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),u=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){Object(c["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={components:{},computed:p({},Object(u["b"])(["isAuthenticated","isAdmin"])),methods:{navigateTo:function(e){this.$router.push({name:e})},logout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"root"})}}},f=d,m=(r("d44d"),r("2877")),v=r("6544"),h=r.n(v),g=r("5bc1"),b=r("8336"),y=r("132d"),x=r("8860"),w=r("da13"),O=r("5d23"),k=r("e449"),j=r("2fa4"),P=r("71d9"),_=r("2a7f"),R=r("3a2f"),D=Object(m["a"])(f,i,o,!1,null,"eb374750",null),V=D.exports;h()(D,{VAppBarNavIcon:g["a"],VBtn:b["a"],VIcon:y["a"],VList:x["a"],VListItem:w["a"],VListItemTitle:O["c"],VMenu:k["a"],VSpacer:j["a"],VToolbar:P["a"],VToolbarItems:_["a"],VToolbarTitle:_["b"],VTooltip:R["a"]});var S={name:"App",components:{PageHeader:V},data:function(){return{}}},T=S,C=(r("034f"),r("7496")),E=r("a75b"),$=Object(m["a"])(T,a,s,!1,null,null,null),A=$.exports;h()($,{VApp:C["a"],VContent:E["a"]});var N=r("a18c"),I=r("31bd"),L=r("07a4"),M=r("9671"),U=r("f309");n["a"].use(U["a"]);var G=new U["a"]({icons:{iconfont:"mdi"}}),F=r("3a60"),B=r.n(F);n["a"].config.productionTip=!1,n["a"].use(B.a),n["a"].component("panel",M["a"]),Object(I["sync"])(L["a"],N["a"]),new n["a"]({el:"#app",router:N["a"],store:L["a"],components:{App:A},vuetify:G,template:"<App/>"})},"59f2":function(e,t,r){"use strict";var n=r("fa3c"),a=r.n(n);a.a},"66b7":function(e,t,r){"use strict";var n=r("340b"),a={methods:{age:function(e,t){return t||(t=new Date),Object(n["differenceInCalendarYears"])(t,e)},formatDate:function(e){return n["dateFns"].isValid(e)?n["dateFns"].format(e,"YYYY-MM-DD"):"---"}}};t["a"]=a},"82fa":function(e,t,r){"use strict";var n=r("288d"),a=r.n(n);a.a},"8fb3":function(e,t,r){},9040:function(e,t,r){"use strict";r("96cf");var n=r("3b8d"),a=r("3f4a");t["a"]={addPatient:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().post("registry/patient",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updatePatient:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().put("registry/patient/".concat(t.id,"/update"),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deletePatient:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().delete("registry/patient/".concat(t.id,"/delete"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),registryList:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().get("registry");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),patient:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().get("registry/patient/".concat(t));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),patientSearch:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().get("registry/patient/search",{params:{registryId:t,searchText:r,max:10}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),patientGetPage:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,n,s,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])().get("registry/patient/getpage",{params:{registryId:t,page:r,size:n,sortBy:s,descending:i}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t,r,n,a,s){return e.apply(this,arguments)}return t}()}},9143:function(e,t,r){},9671:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"elevation-3"},[r("v-toolbar",{class:e.barColour,attrs:{flat:"",dense:"",dark:"",height:"35"}},[r("v-toolbar-title",{class:{alignCenter:e.alignCenter}},[e._v(e._s(e.title))])],1),r("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[e._t("default",[e._v("\n        No content\n      ")])],2)],1)},a=[],s={props:{title:{type:null,default:""},alignCenter:{Boolean:Boolean,default:!1},barColour:{type:String,default:"blue"}}},i=s,o=(r("eddd"),r("2877")),c=r("6544"),u=r.n(c),l=r("b0af"),p=r("71d9"),d=r("2a7f"),f=Object(o["a"])(i,n,a,!1,null,"85d0b080",null);t["a"]=f.exports;u()(f,{VCard:l["a"],VToolbar:p["a"],VToolbarTitle:d["b"]})},a078:function(e,t){e.exports={baseURL:"http://localhost:8081"}},a18c:function(e,t,r){"use strict";var n=r("a026"),a=r("8c4f"),s=r("07a4"),i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("panel",{attrs:{title:"Register New User"}},[r("v-flex",{attrs:{xs12:"",sm12:"",md10:"","offset-md1":""}},[r("v-form",{ref:"registrationForm",attrs:{name:"registrationForm",autocomplete:"off"}},[r("v-text-field",{ref:"firstName",attrs:{label:"First Name",type:"text",name:"firstName"},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}),r("v-text-field",{attrs:{label:"Last Name",type:"text",name:"lastName"},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}}),r("v-text-field",{attrs:{label:"Username",type:"text",name:"username",rules:[function(){return!!e.user.username||"This field is required"}]},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),r("v-text-field",{attrs:{label:"E-Mail",type:"email",name:"email",rules:e.emailRules},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-text-field",{attrs:{label:"Password",rules:[function(){return!!e.user.password||"This field is required"}],type:"password",name:"password",autocomplete:"new-password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("div",[r("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:e.sitekey},on:{verify:e.onVerify,expired:e.onExpired}})],1),r("v-alert",{attrs:{value:e.successMessage,color:"success",icon:"check_circle",outlined:""}},[e._v("\n                    "+e._s(e.successMessage)+"\n                  ")]),r("v-alert",{attrs:{value:e.errorMessage,color:"error",icon:"warning",outlined:""}},[e._v("\n                    "+e._s(e.errorMessage)+"\n                  ")]),r("v-btn",{attrs:{color:"info"},on:{click:e.register}},[e._v("Register")])],1)],1)],1)],1)],1)],1)},c=[],u=(r("96cf"),r("3b8d")),l=r("3f4a"),p={register:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().post("register",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().post("login",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},d=r("e096"),f={name:"HelloWorld",data:function(){return{user:{firstName:"",lastName:"",email:"",password:"",recaptchaToken:""},errorMessage:null,successMessage:null,sitekey:"6LejLpgUAAAAAG0OivRXLro19nNSy0wUe94qgiJw",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]}},components:{VueRecaptcha:d["a"]},methods:{register:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.registrationForm.validate()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.register(this.user).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.successMessage){e.next=4;break}t.successMessage=r.successMessage,e.next=8;break;case 4:return t.$store.commit("login",{token:r.token,user:r.user}),e.next=7,t.$store.dispatch("init");case 7:t.$router.push({name:"home"});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){400==e.response.status?t.errorMessage=e.response.data.error:t.errorMessage="There was an error contacting the server: "+t.response.status});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onVerify:function(e){this.user.recaptchaToken=e},onExpired:function(){this.user.recaptchaToken=""}},mounted:function(){this.$refs.firstName.focus()}},m=f,v=(r("a973"),r("2877")),h=r("6544"),g=r.n(h),b=r("0798"),y=r("8336"),x=r("a523"),w=r("0e8f"),O=r("4bd4"),k=r("a722"),j=r("8654"),P=Object(v["a"])(m,o,c,!1,null,"0f6245b2",null),_=P.exports;g()(P,{VAlert:b["a"],VBtn:y["a"],VContainer:x["a"],VFlex:w["a"],VForm:O["a"],VLayout:k["a"],VTextField:j["a"]});var R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("panel",{attrs:{title:"Login"}},[r("v-form",{ref:"submitLoginForm",attrs:{id:"submitLoginForm"},on:{submit:function(t){return t.preventDefault(),e.login()}}},[r("v-flex",{attrs:{xs12:"",sm12:"",md10:"","offset-md1":""}},[r("v-text-field",{ref:"username",attrs:{label:"Username",placeholder:"Username",type:"username",name:"username","prepend-icon":"mdi-account-circle"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{ref:"password",attrs:{label:"Password",placeholder:"Password",type:"password",name:"password","prepend-icon":"mdi-lock","append-icon":"mdi-eye-off"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.error?r("v-alert",{attrs:{dense:"",type:"error"}},[e._v(e._s(e.error)+" ")]):e._e(),r("div",{staticClass:"text-center"},[r("v-btn",{attrs:{color:"info"},on:{click:function(t){return t.preventDefault(),e.login()}}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)},D=[],V={name:"HelloWorld",data:function(){return{username:"",password:"",error:"",url:""}},components:{},methods:{login:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.login({username:this.username,password:this.password}).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("login",{token:r.token,user:r.user}),e.next=3,t.$store.dispatch("init");case 3:t.$router.push({name:"home"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){400==e.response.status?t.error=e.response.data.error:t.error="There was an error contacting the server: "+t.response.status});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.error=this.$route.params.error||"",this.url=this.$route.params.url||"",this.$store.commit("logout"),this.$refs.username.focus()}},S=V,T=(r("e261"),Object(v["a"])(S,R,D,!1,null,"eae5468c",null)),C=T.exports;function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}g()(T,{VAlert:b["a"],VBtn:y["a"],VContainer:x["a"],VFlex:w["a"],VForm:O["a"],VLayout:k["a"],VTextField:j["a"]});var A=[{path:"/register",name:"register",component:_},{path:"/login",name:"login",component:C}],N=A.map(function(e){var t={authenticated:!1,admin:!1};return $({},e,{meta:t})}),I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{"grid-list-md":"","pa-2":"",fluid:"","fill-height":""}},[r("v-layout",{class:{wrap:e.$vuetify.breakpoint.xs},attrs:{row:""}},[r("v-flex",{class:[{shrink:e.$vuetify.breakpoint.smAndUp},{xs12:e.$vuetify.breakpoint.xsAndDown},{patientBar:e.$vuetify.breakpoint.smAndUp}],staticStyle:{width:"250px"}},[r("patient-bar")],1),r("v-flex",{class:{patientData:e.$vuetify.breakpoint.smAndUp},attrs:{grow:""}},[e.patient?r("patient-data",{attrs:{componentP:e.dataComponent}}):r("patient-list")],1)],1)],1),r("messaging")],1)},L=[],M=r("2f62"),U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{},[r("v-toolbar",{attrs:{color:"blue",dark:"",dense:""}},[r("v-toolbar-title",[e._v("Search Patient")]),r("v-btn",{staticStyle:{right:"-.5em"},attrs:{absolute:"",dark:"",small:"",fab:"",right:"",color:"green lighten-1"},on:{click:function(t){return e.newPatient()}}},[r("v-icon",[e._v("mdi-plus")])],1),r("v-spacer")],1),r("v-select",{staticClass:"mr-1 ml-1 mb-0 pt-5 pb-0 pl-1 pr-2",attrs:{items:e.registryList,"item-text":"registryName",height:"25","return-object":"",label:"Registry","prepend-icon":"mdi-database-refresh"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-icon",{staticClass:"mt-n2"},[e._v("mdi-database-refresh")])]},proxy:!0},{key:"item",fn:function(t){var r=t.item;return[e._v("\n                  "+e._s(r.registryName)+" ("+e._s(r.registrySize)+")\n            ")]}},{key:"selection",fn:function(t){var r=t.item;return[e._v("\n                  "+e._s(r.registryName)+" ("+e._s(r.registrySize)+")\n            ")]}}]),model:{value:e.selectedRegistry,callback:function(t){e.selectedRegistry=t},expression:"selectedRegistry"}}),r("v-autocomplete",{staticClass:"mx-1 my-0 pl-1 pr-2 py-0",attrs:{items:e.searchResults,"search-input":e.searchText,loading:e.isLoading,"prepend-icon":"mdi-magnify",label:"Search Name or PIN",placeholder:"Start typing...",flat:"",clearable:"","item-text":"lastName","item-value":"id","no-filter":""},on:{"update:searchInput":function(t){e.searchText=t},"update:search-input":function(t){e.searchText=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-title",[e._v("\n                     No results yet...\n                  ")])],1)]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-list-item-content",{staticClass:"text-left pa-0 ma-0"},[r("v-list-item-title",[e._v(e._s(n.lastName)+", "+e._s(n.firstName))]),r("v-list-item-subtitle",[e._v("DOB: "+e._s(n.dob)+" (Age "+e._s(e.age(n.dob))+")")])],1)]}}]),model:{value:e.searchSelected,callback:function(t){e.searchSelected=t},expression:"searchSelected"}}),r("patient-bar-edit",{attrs:{editPatientDialogP:e.editPatientDialog,patientP:e.editPatientObj},on:{reset:function(t){e.editPatientDialog=!1}}})],1),e.patient?r("v-card",{staticClass:"mt-2"},[r("v-toolbar",{attrs:{color:"blue",dark:"",dense:""}},[r("v-toolbar-title",[e._v("Demographics")]),r("v-spacer")],1),e.patient?r("patient-bar-info"):e._e(),r("v-btn",{attrs:{absolute:"",dark:"",fab:"",bottom:"",small:"",right:"",color:"blue lighten-2"},on:{click:function(t){return e.editPatient(e.patient)}}},[r("v-icon",[e._v("mdi-account-edit")])],1),r("v-btn",{staticStyle:{right:"5em"},attrs:{absolute:"",dark:"",fab:"",bottom:"",small:"",right:"",color:"red lighten-2"},on:{click:function(t){return e.deletePatient(e.patient)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1):e._e(),r("error-handling",{attrs:{error:e.error,message:e.message},on:{"update:error":function(t){e.error=t},"update:message":function(t){e.message=t}}})],1)},G=[],F=(r("386d"),r("2ef0")),B=r.n(F),Y=r("66b7"),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-bottom-sheet",{attrs:{inset:""},model:{value:e.openError,callback:function(t){e.openError=t},expression:"openError"}},[r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0 red--text"},[e._v(e._s(e.error))]),r("div",[e._v(" "+e._s(e.details)+" ")])])])],1)],1),r("v-bottom-sheet",{attrs:{inset:""},model:{value:e.openMessage,callback:function(t){e.openMessage=t},expression:"openMessage"}},[r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.error))]),r("div",[e._v(" "+e._s(e.details)+" ")])])])],1)],1),r("v-snackbar",{attrs:{bottom:"",timeout:6e3},model:{value:e.openSnackbar,callback:function(t){e.openSnackbar=t},expression:"openSnackbar"}},[e._v("\n      "+e._s(e.snack)+"\n      "),r("v-btn",{attrs:{color:"pink",flat:""},on:{click:function(t){e.openSnackbar=!1}}},[e._v("\n      Close\n      ")])],1)],1)},H=[],z={data:function(){return{openError:!1,openMessage:!1,openSnackbar:!1}},props:{error:{type:String},message:{type:String},details:{type:String,default:""},snack:{type:String}},watch:{error:function(e){e&&""!=e&&(this.openError=!0)},message:function(e){e&&""!=e&&(this.openMessage=!0)},snack:function(e){e&&""!=e&&(this.openSnackbar=!0)},openError:function(e){0==e&&this.$emit("update:error",null)},openMessage:function(e){0==e&&this.$emit("update:message",null)},openSnackbar:function(e){0==e&&this.$emit("update:snack",null)}},methods:{}},J=z,K=r("288c"),W=r("b0af"),X=r("99d9"),Q=r("2db4"),Z=Object(v["a"])(J,q,H,!1,null,"0d8d21d6",null),ee=Z.exports;g()(Z,{VBottomSheet:K["a"],VBtn:y["a"],VCard:W["a"],VCardTitle:X["c"],VSnackbar:Q["a"]});var te=r("9040");function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ae={components:{PatientBarEdit:function(){return Promise.resolve().then(r.bind(null,"aa775"))},PatientBarInfo:function(){return r.e("chunk-75f68d80").then(r.bind(null,"cdf2"))},ErrorHandling:ee},mixins:[Y["a"]],data:function(){return{searchText:"",searchResults:[],searchSelected:null,registryList:[{registryName:"NOT DEFINED"}],error:null,message:null,select:null,isLoading:!1,selectedRegistry:null,editPatientDialog:!1,editPatientObj:null}},watch:{searchText:function(e){e&&""!=e?(this.isLoading=!0,this.search(e)):this.isLoading=!1},searchSelected:function(e){e&&""!=e&&this.$store.dispatch("loadPatient",e)},selectedRegistry:function(e){e!=this.registry&&this.$store.state.activeRegistry!=e&&this.$store.dispatch("setActiveRegistry",e)},"$store.state.activeRegistry":{handler:function(e){null!=e&&(this.selectedRegistry=this.$store.state.activeRegistry)}}},computed:ne({},Object(M["d"])({patient:"activePatient",registry:"activeRegistry"})),methods:{search:B.a.debounce(Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te["a"].patientSearch(this.registry.id,this.searchText);case 2:t=e.sent,Array.isArray(t)?this.searchResults=t:this.searchResults=[],this.isLoading=!1;case 5:case"end":return e.stop()}},e,this)})),700),deletePatient:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ".concat(t.firstName," ").concat(t.lastName,"?"))||!confirm("Warning!  All the data related to this patient will be deleted.  This action cannot be undone.")){e.next=5;break}return e.next=3,te["a"].deletePatient(t);case 3:r=e.sent,r.error?this.error=r.error:(this.$router.push({name:"home"}),this.$store.dispatch("registryCount",{registryId:t.registry.id,increment:-1}));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),newPatient:function(){this.editPatientObj=null,this.editPatientDialog=!0},editPatient:function(e){this.editPatientObj=e,this.editPatientDialog=!0}},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.registryList=this.$store.state.registryList,this.selectedRegistry=this.registry;case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},se=ae,ie=(r("f4c0"),r("c6a6")),oe=r("132d"),ce=r("da13"),ue=r("5d23"),le=r("b974"),pe=r("2fa4"),de=r("71d9"),fe=r("2a7f"),me=Object(v["a"])(se,U,G,!1,null,"a0712242",null),ve=me.exports;g()(me,{VAutocomplete:ie["a"],VBtn:y["a"],VCard:W["a"],VIcon:oe["a"],VListItem:ce["a"],VListItemContent:ue["a"],VListItemSubtitle:ue["b"],VListItemTitle:ue["c"],VSelect:le["a"],VSpacer:pe["a"],VToolbar:de["a"],VToolbarTitle:fe["b"]});var he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-tabs",{attrs:{"background-color":"blue",dark:"","align-with-title":"","slider-color":"yellow"},model:{value:e.tabSelected,callback:function(t){e.tabSelected=t},expression:"tabSelected"}},[e._l(e.tabs,function(t){return r("v-tab",{key:t},[e._v(e._s(t))])}),e._l(e.tabs,function(e){return r("v-tab-item",{key:e,attrs:{transition:!1,"reverse-transition":!1}},[r("v-card",{attrs:{flat:""}},[r("v-card-text",[r(e,{tag:"imaging"})],1)],1)],1)})],2)],1)},ge=[];r("20d6");function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var xe={components:{Imaging:function(){return Promise.all([r.e("chunk-c3f39cd2"),r.e("chunk-39d69daa")]).then(r.bind(null,"50bd"))},Diagnosis:function(){return r.e("chunk-53a2c20c").then(r.bind(null,"791a"))},Events:function(){return Promise.all([r.e("chunk-c3f39cd2"),r.e("chunk-7982f3a4")]).then(r.bind(null,"9bc3"))},Medications:function(){return Promise.all([r.e("chunk-c3f39cd2"),r.e("chunk-20e33414")]).then(r.bind(null,"43a3"))},Devices:function(){return Promise.all([r.e("chunk-c3f39cd2"),r.e("chunk-5f6c8d00")]).then(r.bind(null,"6f01"))}},props:["componentP"],data:function(){return{tabSelected:null,tabs:["Diagnosis","Imaging","Events","Medications","Devices"]}},watch:{tabSelected:function(e){this.patient&&this.$router.push({name:"patientData",params:{patientId:this.patient.id,component:this.tabs[e]}})},componentP:function(){this.setComponent(this.componentP)}},computed:ye({},Object(M["d"])({patient:"activePatient",registry:"activeRegistry"})),methods:{setComponent:function(e){e&&(this.tabSelected=this.tabs.findIndex(function(t){return t.toUpperCase()===e.toUpperCase()}))}},mounted:function(){this.setComponent(this.componentP)}},we=xe,Oe=r("71a3"),ke=r("c671"),je=r("fe57"),Pe=Object(v["a"])(we,he,ge,!1,null,"bec96d76",null),_e=Pe.exports;g()(Pe,{VCard:W["a"],VCardText:X["b"],VTab:Oe["a"],VTabItem:ke["a"],VTabs:je["a"]});var Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("v-toolbar",{attrs:{dark:"",color:"purple lighten-1",dense:""}},[r("v-app-bar-nav-icon"),r("v-toolbar-title",[e._v("Select Patient")]),r("v-spacer")],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","mt-0":""}},[r("v-data-table",{staticClass:"elevation-3 dataTable",attrs:{headers:e.headers,items:e.patients,options:e.options,"server-items-length":e.totalpatients,loading:e.loading,"must-sort":"","no-data-text":"No patients in this registry"},on:{"update:options":function(t){e.options=t},"click:row":function(t){return e.open(t)}},scopedSlots:e._u([{key:"item.dob",fn:function(t){var r=t.item;t.header,t.value;return[e._v("\n              "+e._s(r.dob)+" Age: ("+e._s(e.age(r.dob))+")\n            ")]}},{key:"item.lastName",fn:function(t){var r=t.item;t.header,t.value;return[e._v("\n              "+e._s(r.lastName)+", "+e._s(r.firstName)+"\n            ")]}}])}),r("div",{staticClass:"text-center"},[r("v-btn",{staticClass:"mt-n10",attrs:{dark:"",fab:"",small:"",color:"green lighten-2"},on:{click:function(t){e.editPatientDialog=!0}}},[r("v-icon",[e._v("mdi-plus")])],1)],1),r("patient-bar-edit",{attrs:{editPatientDialogP:e.editPatientDialog},on:{reset:function(t){e.editPatientDialog=!1}}})],1)],1)],1)},De=[],Ve=r("aa775");function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ce={mixins:[Y["a"]],components:{PatientBarEdit:Ve["default"]},data:function(){return{totalpatients:0,patients:[],sortBy:["createdAt"],sortDesc:!0,loading:!0,options:{sortBy:["createdAt"],sortDesc:[!0]},headers:[{text:"Name",align:"left",sortable:!0,value:"lastName"},{text:"MRN",align:"center",value:"mrn"},{text:"Age",align:"center",value:"dob"},{text:"Date Created",align:"center",value:"createdAt"}],editPatientDialog:!1}},watch:{options:{handler:function(){var e=this;this.getDataFromApi().then(function(t){e.patients=t.items,e.totalpatients=t.total})},deep:!0}},mounted:function(){},computed:Te({},Object(M["d"])({registry:"activeRegistry"})),methods:{getDataFromApi:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.abrupt("return",new Promise(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(r){var n,a,s,i,o,c,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.options,a=n.sortBy,s=n.sortDesc,i=n.page,o=n.itemsPerPage,e.next=3,te["a"].patientGetPage(t.registry.id,i,o,a[0],s[0]);case 3:c=e.sent,u=c.total,l=c.results,t.loading=!1,r({items:l,total:u});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),open:function(e){this.$router.push({name:"patient",params:{registryId:this.$store.state.activeRegistry.id,patientId:e.id}})}}},Ee=Ce,$e=(r("82fa"),r("5bc1")),Ae=r("8fea"),Ne=Object(v["a"])(Ee,Re,De,!1,null,"4c041224",null),Ie=Ne.exports;g()(Ne,{VAppBarNavIcon:$e["a"],VBtn:y["a"],VCard:W["a"],VDataTable:Ae["a"],VFlex:w["a"],VIcon:oe["a"],VLayout:k["a"],VSpacer:pe["a"],VToolbar:de["a"],VToolbarTitle:fe["b"]});var Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-snackbar",{attrs:{color:e.type,top:"",timeout:e.timer},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.message)+"\n      "),r("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n        Close\n      ")])],1)],1)},Me=[];function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Fe={data:function(){return{snackbar:!1,timer:4e3}},watch:{snackbar:function(e){e||this.$store.commit("messaging/reset")}},computed:Ge({},Object(M["d"])({message:function(e){return e.messaging.message},type:function(e){return e.messaging.type}})),methods:{setTimer:function(){switch(this.type){case"success":this.timer=2e3;break;case"error":this.timer=4e3;break;case"info":this.timer=3e3;break}},showMessage:function(){this.message&&""!==this.message&&(this.setTimer(),this.snackbar=!0)}},mounted:function(){var e=this;this.$store.watch(function(e){return e.messaging.message},function(){e.showMessage()}),null!=this.message&&this.showMessage()}},Be=Fe,Ye=Object(v["a"])(Be,Le,Me,!1,null,null,null),qe=Ye.exports;function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}g()(Ye,{VBtn:y["a"],VSnackbar:Q["a"]});var Je={components:{PatientBar:ve,PatientData:_e,PatientList:Ie,Messaging:qe},data:function(){return{search:null,dataComponent:"diagnosis"}},watch:{"$route.params.patientId":{handler:function(e){this.$store.dispatch("loadPatient",e)}},"$route.params.component":{handler:function(e){null!=e&&(this.dataComponent=e)}},"$route.params.registryId":{handler:function(e){null!=e&&this.setRegistry(e)}}},computed:ze({},Object(M["d"])({patient:"activePatient",registry:"activeRegistry"})),methods:ze({},Object(M["c"])({showError:"messaging/showError",showSuccess:"messaging/showSuccess"}),{setRegistry:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("setActiveRegistryById",t);case 2:r=e.sent,r||(this.$router.push({name:"registry",params:{registryId:1}}),this.showError("Unable to load registry with ID: "+t));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}),created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:null==this.$route.params.registryId?this.$router.push({name:"registry",params:{registryId:1}}):this.setRegistry(this.$route.params.registryId),this.dataComponent=this.$route.params.component;case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Ke=Je,We=(r("c63d"),Object(v["a"])(Ke,I,L,!1,null,"6a1080c3",null)),Xe=We.exports;g()(We,{VContainer:x["a"],VFlex:w["a"],VLayout:k["a"]});var Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{staticClass:"xs8 offset-xs2"},[r("panel",{attrs:{title:"User Options",alignCenter:"true"}},[r("v-form",{ref:"saveUserForm",attrs:{name:"saveUserForm",id:"saveUserForm",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.saveUser()}}},[r("v-text-field",{attrs:{label:"Current Password",hint:"Current Password",rules:[function(){return!!e.user.password||"This field is required"}],type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("v-text-field",{attrs:{label:"New Password",hint:"Must be >8 characters",rules:e.passwordRules,type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}}),r("v-text-field",{attrs:{label:"Confirm New Password",hint:"Confirm Password",type:"password",rules:e.confirmPasswordRules},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),r("v-alert",{staticStyle:{width:"70%"},attrs:{value:e.successMessage,color:"success",icon:"check_circle",outline:"",dismissible:""}},[e._v("\n                "+e._s(e.successMessage)+"\n              ")]),r("v-alert",{attrs:{value:e.errorMessage,color:"error",icon:"warning",outline:"",dismissible:""}},[e._v("\n                "+e._s(e.errorMessage)+"\n              ")]),r("v-btn",{attrs:{type:"submit",color:"primary",for:"saveUserForm"}},[e._v("Save")]),r("v-btn",{attrs:{type:"submit"},on:{click:e.reset}},[e._v("Reset")])],1)],1)],1)],1)],1)},Ze=[],et=r("9671"),tt={put:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().put("user/changepw",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},rt={data:function(){var e=this;return{user:{password:"",newPassword:""},confirmPassword:"",successMessage:null,errorMessage:null,passwordRules:[function(e){return e.length>=8||"Password must be at least 8 characters"}],confirmPasswordRules:[function(t){return t===e.user.newPassword||"Passwords must match"}]}},components:{Panel:et["a"]},methods:{saveUser:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.saveUserForm.validate()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,tt.put(this.user);case 4:t=e.sent.data,t.error?(this.errorMessage=t.error,this.successMessage=null):(this.successMessage="Success!  Changes saved.",this.errorMessage=null);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){this.user.password="",this.user.newPassword="",this.confirmPassword=""}}},nt=rt,at=Object(v["a"])(nt,Qe,Ze,!1,null,"8c85709e",null),st=at.exports;g()(at,{VAlert:b["a"],VBtn:y["a"],VContainer:x["a"],VFlex:w["a"],VForm:O["a"],VLayout:k["a"],VTextField:j["a"]});var it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-md":"","pa-2":"","text-xs-center":"",fluid:"","fill-height":"","align-center":""}},[r("v-layout",{class:{wrap:e.$vuetify.breakpoint.xs},attrs:{row:""}},[r("v-flex",{class:[{shrink:e.$vuetify.breakpoint.smAndUp},{xs12:e.$vuetify.breakpoint.xsAndDown},{patientBar:e.$vuetify.breakpoint.smAndUp}]},[r("patient-bar")],1),r("v-flex",[r("v-toolbar",{attrs:{dark:"",color:"purple lighten-1",dense:""}},[r("v-toolbar-side-icon"),r("v-toolbar-title",[e._v("Select Report")]),r("v-spacer")],1),r("v-layout",[r("v-flex",{attrs:{xs12:"","mt-0":""}},[e._v("\n          test\n\n    ")])],1)],1)],1)],1)},ot=[];function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var lt={components:{PatientBar:ve},data:function(){return{search:null,dataComponent:"diagnosis"}},watch:{"$route.params.id":{handler:function(e){e=null,this.$store.dispatch("loadPatient",e)}},"$route.params.component":{handler:function(e){null!=e&&(this.dataComponent=e)}}},computed:ut({},Object(M["d"])({patient:"activePatient",registry:"activeRegistry"})),methods:{},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.dataComponent=this.$route.params.component;case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},pt=lt,dt=Object(v["a"])(pt,it,ot,!1,null,"453aabc3",null),ft=dt.exports;function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}g()(dt,{VContainer:x["a"],VFlex:w["a"],VLayout:k["a"],VSpacer:pe["a"],VToolbar:de["a"],VToolbarTitle:fe["b"]});var ht=[{path:"/registry",redirect:"/registry/1",name:"home",component:Xe},{path:"/registry/:registryId",name:"registry",component:Xe},{path:"/patient/:patientId",name:"patient",component:Xe},{path:"/patient/:patientId/data/:component",name:"patientData",component:Xe},{path:"/useroptions",name:"useroptions",component:st},{path:"/report",name:"reports",component:ft}],gt=ht.map(function(e){return vt({},e,{meta:{private:!0,admin:!1}})}),bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",[r("v-toolbar",{attrs:{color:"indigo lighten",dark:"",dense:""}},[r("v-app-bar-nav-icon"),r("v-toolbar-title",[e._v("Users")]),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-data-table",{staticClass:"userTable",attrs:{headers:e.computedHeaders,items:e.users,search:e.search},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[r("span",{staticClass:"pa-0"},[e._v("\n                    "+e._s(t.header.text)+"\n                ")])]}},{key:"item",fn:function(t){return[r("tr",[r("td",{staticClass:"text-center",class:{inactive:!t.item.active}},[e._v(e._s(t.item.username))]),r("td",{staticClass:"text-center",class:{inactive:!t.item.active}},[e._v(e._s(t.item.firstName))]),r("td",{staticClass:"text-center",class:{inactive:!t.item.active}},[e._v(e._s(t.item.lastName))]),e.$vuetify.breakpoint.smAndDown?e._e():r("td",{staticClass:"text-center",class:{inactive:!t.item.active}},[e._v("\n                        "+e._s(e.formatDate(t.item.lastLogin))+"\n                    ")]),r("td",{staticClass:"text-xs-center pa-0",class:{inactive:!t.item.active}},[t.item.active?e._e():r("v-btn",{staticClass:"ma-0 pa-0",class:[{activate:t.item.active}],attrs:{fab:"","x-small":"",outlined:"",color:"purple lighten-1"},on:{click:function(r){return e.toggleDisableUser(t.item)}}},[r("v-icon",[e._v("\n                                mdi-format-color-text\n                            ")])],1),t.item.active?r("v-btn",{staticClass:"ma-0 pa-0",class:[{activate:t.item.active}],attrs:{fab:"","x-small":"",outlined:"",color:"green lighten-1"},on:{click:function(r){return e.toggleDisableUser(t.item)}}},[r("v-icon",[e._v("\n                                mdi-cancel\n                            ")])],1):e._e()],1),r("td",{staticClass:"text-center pa-0 text-no-wrap",class:{inactive:!t.item.active}},[r("v-btn",{attrs:{"x-small":"",fab:"",outlined:"",color:"blue"},on:{click:function(r){return e.editUserDialog(t.item)}}},[r("v-icon",[e._v("\n                                mdi-wrench\n                            ")])],1),r("v-btn",{staticClass:"ma-0 pa-0",attrs:{"x-small":"",fab:"",outlined:"",color:"red lighten-1",icon:""},on:{click:function(r){return e.deleteUser(t.item)}}},[r("v-icon",[e._v("\n                                mdi-delete\n                            ")])],1)],1)])]}}])},[r("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:e._u([{key:"no-results",fn:function(){return[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n            ')]},proxy:!0}])})],1)],1)],1),r("v-flex",{staticClass:"mt-3",attrs:{xs12:"",md6:"","offset-md2":""}},[r("v-card",[r("v-toolbar",{attrs:{color:"red",dark:"",dense:""}},[r("v-app-bar-nav-icon"),r("v-toolbar-title",[e._v("Groups")]),r("v-spacer")],1),r("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[r("admin-groups",{attrs:{groupsParent:e.groups},on:{updateGroup:function(t){e.groups=t}}})],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Edit User: "+e._s(e.dialogUser.id))])]),r("v-card-text",[r("user-edit",{attrs:{user:e.dialogUser,groups:e.groups}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.updateUser(e.dialogUser)}}},[e._v("Save")])],1)],1)],1),r("messaging")],1)},yt=[],xt={index:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().get("admin/users",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),put:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().put("admin/users/".concat(t.id),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().delete("admin/users/".concat(t.id,"/delete"),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),groups:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().get("admin/groups",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),addGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().post("admin/groups",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updateGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().put("admin/groups/".concat(t.id),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])().delete("admin/groups/".concat(t));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},wt=r("340b"),Ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-text-field",{attrs:{label:"Username",autocomplete:"off"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-text-field",{attrs:{label:"Password*",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-text-field",{attrs:{label:"First Name",required:""},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}})],1),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-text-field",{attrs:{label:"Last Name",required:""},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Email*",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),r("v-flex",{attrs:{xs4:""}},[r("v-text-field",{attrs:{label:"Login Count",type:"text",disabled:""},model:{value:e.user.loginCount,callback:function(t){e.$set(e.user,"loginCount",t)},expression:"user.loginCount"}})],1),r("v-flex",{attrs:{xs4:""}},[r("v-text-field",{attrs:{label:"Active",type:"text",disabled:""},model:{value:e.user.active,callback:function(t){e.$set(e.user,"active",t)},expression:"user.active"}})],1),r("v-flex",{attrs:{xs4:""}},[r("v-text-field",{attrs:{label:"Login Attempts",type:"text",disabled:""},model:{value:e.user.loginAttempts,callback:function(t){e.$set(e.user,"loginAttempts",t)},expression:"user.loginAttempts"}})],1),r("v-flex",{attrs:{xs4:""}},[r("v-text-field",{attrs:{label:"Date Created",type:"text",disabled:"",placeholder:e.formatDate(e.user.createdAt)}})],1),r("v-flex",{attrs:{xs4:""}},[r("v-text-field",{attrs:{label:"Date Updated",type:"text",disabled:"",placeholder:e.formatDate(e.user.updatedAt)}})],1),r("v-flex",{attrs:{xs4:""}},[r("v-text-field",{attrs:{label:"Last Login",type:"text",disabled:"",placeholder:e.formatDate(e.user.lastLogin)}})],1),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-select",{attrs:{items:e.groups,"item-text":"groupName","return-object":"",chips:"",label:"Groups",multiple:"",solo:""},model:{value:e.user.usergroups,callback:function(t){e.$set(e.user,"usergroups",t)},expression:"user.usergroups"}})],1)],1)],1),r("small",[e._v("*indicates required field")])],1)},kt=[],jt={props:{user:{type:Object,required:!0},groups:{type:Array,required:!1,defaultValue:[]}},data:function(){return{}},watchers:{},methods:{formatDate:function(e){return e&&Object(wt["isValid"])(new Date(e))?Object(wt["format"])(new Date(e),"YYYY-MM-DD HH:MM:SS"):"????"}}},Pt=jt,_t=Object(v["a"])(Pt,Ot,kt,!1,null,"5cd21313",null),Rt=_t.exports;g()(_t,{VContainer:x["a"],VFlex:w["a"],VLayout:k["a"],VSelect:le["a"],VTextField:j["a"]});var Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-list",[e._l(e.groups,function(t){return r("v-list-group",{key:t.id,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.groupName))])],1),r("v-list-item-action",[r("v-btn",{attrs:{outlined:"","x-small":"",fab:"",color:"red lighten-1"},on:{click:function(r){return e.deleteGroup(t)}}},[r("v-icon",[e._v("mdi-delete")])],1)],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(r){e.$set(t,"active",r)},expression:"group.active"}},[r("v-divider"),e._l(t.users,function(n){return r("v-list-item",{key:n.id,staticStyle:{"background-color":"#f7f7f7"}},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(n.firstName)+", "+e._s(n.lastName))])],1),r("v-list-item-action",[r("v-btn",{attrs:{fab:"",outlined:"","x-small":"",color:"primary"},on:{click:function(r){return e.removeFromGroup(t,n)}}},[r("v-icon",{attrs:{dark:""}},[e._v("mdi-exit-to-app")])],1)],1)],1)}),r("v-divider")],2)}),r("v-divider")],2),r("v-btn",{attrs:{color:"pink",dark:"",small:"",absolute:"",bottom:"",fab:""},on:{click:function(t){e.addGroupDialog=!0}}},[r("v-icon",[e._v("mdi-plus")])],1),r("v-dialog",{attrs:{"max-width":"290"},model:{value:e.addGroupDialog,callback:function(t){e.addGroupDialog=t},expression:"addGroupDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("New Group")]),r("v-card-text",[r("v-text-field",{attrs:{label:"Group Name"},model:{value:e.newGroup.groupName,callback:function(t){e.$set(e.newGroup,"groupName",t)},expression:"newGroup.groupName"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.addGroupDialog=!1}}},[e._v("\n                Cancel\n            ")]),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.addGroup()}}},[e._v("\n                Add\n            ")])],1)],1)],1)],1)},Vt=[],St={props:{groupsParent:{type:Array,required:!1,defaultValue:[]}},data:function(){return{groups:[],loading:!1,newGroup:{groupName:""},addGroupDialog:!1}},watch:{groupsParent:function(e){this.groups=e}},methods:{addGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,xt.addGroup(this.newGroup);case 3:t=e.sent,t.error||(this.groups.push(t),this.newGroup={groupName:""},this.$emit("updateGroup",this.groups)),this.loading=!1,this.addGroupDialog=!1;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),removeFromGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.users.splice(t.users.indexOf(r),1),n=this.updateGroup(t),n.error&&t.users.push(r);case 3:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),updateGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xt.updateGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteGroup:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete the group titled '".concat(t.groupName,"'. This action cannot be undone."))){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,xt.deleteGroup(t.id);case 4:r=e.sent,r.error||this.groups.splice(this.groups.indexOf(t),1);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.groups.length){e.next=4;break}return e.next=3,xt.groups({params:{eager:"[users]"}});case 3:this.groups=e.sent;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Tt=St,Ct=r("169a"),Et=r("ce7e"),$t=r("8860"),At=r("56b0"),Nt=r("1800"),It=Object(v["a"])(Tt,Dt,Vt,!1,null,"786aedce",null),Lt=It.exports;function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}g()(It,{VBtn:y["a"],VCard:W["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VDialog:Ct["a"],VDivider:Et["a"],VIcon:oe["a"],VList:$t["a"],VListGroup:At["a"],VListItem:ce["a"],VListItemAction:Nt["a"],VListItemContent:ue["a"],VListItemTitle:ue["c"],VSpacer:pe["a"],VTextField:j["a"]});var Gt={components:{UserEdit:Rt,AdminGroups:Lt,Messaging:qe},data:function(){return{search:"",dialog:!1,dialogUser:{},users:[],groups:[],headers:[{text:"Username",value:"username",align:"center"},{text:"Last Name",value:"lastName",align:"center"},{text:"First Name",align:"center",sortable:!0,value:"firstName"},{text:"Last Login",value:"lastLogin",align:"center",hide:"smAndDown"},{text:"Active?",value:"active",align:"center",width:20},{text:"Actions",value:"actions",align:"center"}]}},computed:{computedHeaders:function(){var e=this;return this.headers.filter(function(t){return!t.hide||!e.$vuetify.breakpoint[t.hide]})}},methods:Ut({},Object(M["c"])({showError:"messaging/showError",showSuccess:"messaging/showSuccess"}),{formatDate:function(e){return e&&Object(wt["isValid"])(new Date(e))?Object(wt["format"])(new Date(e),"YYYY-MM-DD HH:mm:ss"):"---"},toggleDisableUser:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.active?"BLOCK":"ACTIVATE",confirm("Are you sure you want to ".concat(r," user '").concat(t.username,"' (").concat(t.email,")"))){e.next=3;break}return e.abrupt("return");case 3:return n=this.users[this.users.indexOf(t)],n.active=!n.active,n.loginAttempts=0,e.next=8,xt.put(n).then(function(e){a.selected=e,a.showSuccess("User '".concat(n.username,"' is now ").concat(n.active?"ACTIVATED":"BLOCKED"))}).catch(function(e){a.showError(e.response.data.error),n.active=!n.active});case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xt.put(t).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r.user=n,e.next=3,xt.groups({params:{eager:"[users]"}});case 3:r.groups=e.sent,r.showSuccess("User '".concat(t.username,"' successfully updated")),r.dialog=!1;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r.showError("ERROR: "+t.response.data.error),e.next=3,r.loadData();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ".concat(t.firstName," ").concat(t.lastName," (").concat(t.email,")?"))){e.next=3;break}return e.next=3,xt.delete(t).then(function(){r.users.splice(r.users.indexOf(t),1),r.showSuccess("User '".concat(t.username,"' successfully deleted")),r.dialog=!1}).catch(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r.showError("Error"+t.response.data.error),e.next=3,r.loadData();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),editUserDialog:function(e){this.dialogUser=e,this.dialog=!0},loadData:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xt.index({params:{eager:"[usergroups]"}});case 2:return this.users=e.sent,e.next=5,xt.groups({params:{eager:"users"}});case 5:this.groups=e.sent;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Ft=Gt,Bt=(r("59f2"),Object(v["a"])(Ft,bt,yt,!1,null,"52ae9551",null)),Yt=Bt.exports;function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}g()(Bt,{VAlert:b["a"],VAppBarNavIcon:$e["a"],VBtn:y["a"],VCard:W["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VContainer:x["a"],VDataTable:Ae["a"],VDialog:Ct["a"],VFlex:w["a"],VIcon:oe["a"],VLayout:k["a"],VSpacer:pe["a"],VTextField:j["a"],VToolbar:de["a"],VToolbarTitle:fe["b"]});var zt=[{path:"/admin/users",name:"admin-users",component:Yt}],Jt=zt.map(function(e){return Ht({},e,{meta:{authenticated:!0,admin:!0}})}),Kt=N.concat(gt).concat(Jt);n["a"].use(a["a"]);var Wt=new a["a"]({routes:[{path:"/",name:"root",redirect:"/login"}].concat(Kt)});Wt.beforeEach(function(e,t,r){var n=s["a"].getters.isAuthenticated,a=s["a"].getters.isAdmin,i=e.matched.some(function(e){return e.meta.admin}),o=e.matched.some(function(e){return e.meta.authenticated});return o&&!n?r({path:"/login",query:{redirect:e.fullPath}}):i&&!a?r("/dashboard"):void r()});t["a"]=Wt},a973:function(e,t,r){"use strict";var n=r("8fb3"),a=r.n(n);a.a},aa775:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"590"},model:{value:e.editPatientDialog,callback:function(t){e.editPatientDialog=t},expression:"editPatientDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Register Patient")]),r("v-card-text",[r("v-form",{ref:"ptForm"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-select",{staticStyle:{width:"50%"},attrs:{items:e.registryList,"return-object":"",label:"Registry","prepend-icon":"recent_actors","item-text":"registryName",disabled:""},model:{value:e.pt.registry,callback:function(t){e.$set(e.pt,"registry",t)},expression:"pt.registry"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"First Name",type:"text",required:"",rules:[function(){return!!e.pt.firstName||"This field is required"}],autofocus:""},model:{value:e.pt.firstName,callback:function(t){e.$set(e.pt,"firstName",t)},expression:"pt.firstName"}})],1),r("v-flex",{staticClass:"pl-2",attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Last Name",type:"text",required:"",rules:[function(){return!!e.pt.lastName||"This field is required"}]},model:{value:e.pt.lastName,callback:function(t){e.$set(e.pt,"lastName",t)},expression:"pt.lastName"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"MRN",type:"text"},model:{value:e.pt.mrn,callback:function(t){e.$set(e.pt,"mrn",t)},expression:"pt.mrn"}})],1),r("v-flex",{staticClass:"pl-2",attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Date of Birth (YYYY-MM-DD)","prepend-icon":"event",required:"","return-masked-value":"",mask:"####-##-##",rules:[function(){return!!e.pt.dob||"This field is required"}]},model:{value:e.pt.dob,callback:function(t){e.$set(e.pt,"dob",t)},expression:"pt.dob"}})],1),r("v-flex",{staticClass:"pl-2",attrs:{xs12:""}},[r("v-checkbox",{attrs:{label:"Deceased?"},model:{value:e.deceased,callback:function(t){e.deceased=t},expression:"deceased"}})],1),e.deceased?r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Cause of Death"},model:{value:e.pt.causeOfDeath,callback:function(t){e.$set(e.pt,"causeOfDeath",t)},expression:"pt.causeOfDeath"}})],1):e._e(),e.deceased?r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{staticClass:"ml-2",attrs:{label:"Date Deceased","prepend-icon":"event","return-masked-value":"",mask:"####-##-##"},model:{value:e.pt.deceasedDate,callback:function(t){e.$set(e.pt,"deceasedDate",t)},expression:"pt.deceasedDate"}})],1):e._e()],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.editPatientDialog=!1}}},[e._v("\n            Cancel\n         ")]),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){return e.save()}}},[e._v("\n            Save Patient\n         ")])],1)],1)],1)},a=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),i=r("bd86"),o=r("2f62"),c=r("9040");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={data:function(){return{defaultPt:{firstName:"",lastName:"",mrn:"",dob:"",deceasedDate:void 0,causeOfDeath:void 0},pt:{},deceased:!1,registrySelected:null,editPatientDialog:!1}},props:{patientP:{type:Object,default:null},editPatientDialogP:{type:Boolean,default:!1}},watch:{editPatientDialogP:function(e){e&&(this.editPatientDialog=e)&&this.initialize()},editPatientDialog:function(e){!e&&this.$emit("reset")}},computed:l({},Object(o["d"])({registryList:"registryList",activeRegistry:"activeRegistry"})),methods:{initialize:function(){this.patientP?Object.assign(this.pt,this.patientP):(this.pt=Object.assign({},this.defaultPt),this.pt.registry=this.activeRegistry)},save:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.ptForm.validate()){e.next=2;break}return e.abrupt("return",null);case 2:if(this.pt.user=this.$store.state.user,t=null,!this.patientP){e.next=10;break}return e.next=7,c["a"].updatePatient(this.pt);case 7:t=e.sent,e.next=14;break;case 10:return this.$store.dispatch("registryCount",{registryId:this.activeRegistry.id,increment:1}),e.next=13,c["a"].addPatient(this.pt);case 13:t=e.sent;case 14:t.error?alert(t.error):t.message&&alert(t.message),this.editPatientDialog=!1,this.$store.dispatch("setActivePatient",t),this.$router.push({name:"patient",params:{id:t.id}});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){}},d=p,f=r("2877"),m=r("6544"),v=r.n(m),h=r("8336"),g=r("b0af"),b=r("99d9"),y=r("ac7c"),x=r("169a"),w=r("0e8f"),O=r("4bd4"),k=r("a722"),j=r("b974"),P=r("2fa4"),_=r("8654"),R=Object(f["a"])(d,n,a,!1,null,"6a25d75e",null);t["default"]=R.exports;v()(R,{VBtn:h["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCheckbox:y["a"],VDialog:x["a"],VFlex:w["a"],VForm:O["a"],VLayout:k["a"],VSelect:j["a"],VSpacer:P["a"],VTextField:_["a"]})},c54e:function(e,t,r){},c63d:function(e,t,r){"use strict";var n=r("9143"),a=r.n(n);a.a},d44d:function(e,t,r){"use strict";var n=r("2b46"),a=r.n(n);a.a},e261:function(e,t,r){"use strict";var n=r("c54e"),a=r.n(n);a.a},eddd:function(e,t,r){"use strict";var n=r("fb9a"),a=r.n(n);a.a},f4c0:function(e,t,r){"use strict";var n=r("fbae"),a=r.n(n);a.a},fa3c:function(e,t,r){},fb9a:function(e,t,r){},fbae:function(e,t,r){}});
//# sourceMappingURL=app.036853a0.js.map